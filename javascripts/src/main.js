// # load fonts
//
// Load linked fonts using @font-face with added control – Web Font Loader, Typekit & Google
// https://github.com/typekit/webfontloader
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

//////////////////////////////
// # configurations
//////////////////////////////
var WebFontConfig = {
  custom: {
    families: [
      // '',
    ]
  }
};

//////////////////////////////
// # initialize
//////////////////////////////
function initWebFonts() {
  var wf = document.createElement('script');
  var s = document.scripts[0];

  // link to CDN for for script source,
  // documentation recommends using explicit version numbers for performance reason
  wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js';
  s.parentNode.insertBefore(wf, s);
}


// # smart resize
//
// Debouncing Javascript methods – resize debouncing function, John Hann
// http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
(function($,sr){
  var debounce = function (func, threshold, execAsap) {
    var timeout;

    return function debounced () {
      var obj = this, args = arguments;
      function delayed () {
        if (!execAsap)
          func.apply(obj, args);
        timeout = null;
      }

      if (timeout)
        clearTimeout(timeout);
      else if (execAsap)
        func.apply(obj, args);

      timeout = setTimeout(delayed, threshold || 300); 
    };
  };
  // smartresize 
  jQuery.fn[sr] = function(fn){ return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr); };
})(jQuery,'smartresize');


// # document load ready
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
(function DomReady() {
  //
})();


// # document load complete
//
// post-CSSOM load – ensures styles are applied first before executing functions
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

//////////////////////////////
// # handler
//////////////////////////////
function DomComplete() {
  //
}

//////////////////////////////
// # listener
//////////////////////////////
if (document.readyState === 'complete') {
  complete();
}

var interval = setInterval(function() {
  if(document.readyState === 'complete') {
    clearInterval(interval);
    complete();
  }
}, 100);