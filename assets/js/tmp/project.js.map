{"version":3,"sources":["../src/project.js"],"names":["Element","prototype","closest","matches","msMatchesSelector","webkitMatchesSelector","Selector","el","ancestor","document","documentElement","contains","parentElement","isFunction","X","Object","toString","call","debounce","Func","Wait","Immediate","Args","inDebounce","timer","context","later","apply","callNow","clearTimeout","setTimeout","throttle","Limit","inThrottle","lastFunc","lastRan","Date","now","asyncLoadScript","Url","Promise","Resolve","Reject","ready","anchor","getElementsByTagName","script","createElement","type","src","async","onreadystatechange","readyState","onload","onabort","onerror","parentNode","insertBefore","pageIsReady","pageIsComplete","complete","setInterval","clearInterval","Loader","domRef","shieldSelector","cache","element","shield","cacheShield","uncacheShield","querySelector","TweenLite","set","display","visibility","opacity","to","onCompleteScope","onComplete","ScrollControl","enable","body","style","overflow","disable","isTop","window","pageYOffset","toTop","scrollTo","toSection","ID","FontControl","options","fontConfig","init","Options","resolve","then","Response","initFonts","catch","ErrorMsg","console","error","dest","removeChild","WebFont","load","ViewControl","isFirst","Barba","HistoryManager","prevStatus","getCurUrl","Pjax","getCurrentUrl","getCurUid","getElementsByClassName","Dom","containerClass","dataset","uid","getCurPathname","split","location","origin","pop","originalPreventCheck","preventCheck","event","href","getAttribute","indexOf","wrapperId","dataNamespace","ignoreClassLink","templates","transitions","start","onRequested","Callback","Dispatcher","on","onChange","onReady","store","fade","BaseTransition","extend","wrapper","getWrapper","height","oldContainer","offsetHeight","all","newContainerLoading","hideOld","showNew","bind","wrapperResizeDuration","newContainer","delay","done","assignments","assign","Name","TransitionKey","getTransition","curViewName","namespace","hasOwnProperty","transitionKey","pushModel","BaseView","onEnter","onEnterCompleted","onLeave","onLeaveCompleted","getModel","getCurModelName","currentStatus","keys","forEach","Model","AnalyticsControl","trackingId","initApi","initTracker","destApi","GoogleAnalyticsObject","ga","q","push","l","getTime","cookieDomain","setPageView","Pathname","Title","page","title","send","Data","sendPageView","sendEvent","Category","Action","Label","eventCategory","eventAction","eventLabel","NavControl","links","linkSelector","cacheLinks","enableAllLinks","update","Uid","disableLink","querySelectorAll","disabledLinks","filter","Link","length","removeAttribute","activeLinks","controlsUid","preLoaderElement","preLoader","viewLoader","showShield","picturefill","svg4everybody","viewUrl","viewPathname","viewTitle","hash","hideShield","view","log","wfLoaderScriptUrl","custom","families","timeout","analyticsSciptUrl","analyticsTrackingId","viewLoaderElement"],"mappings":"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","file":"project.js","sourcesContent":["{\n  // # configurations\n  //////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////\n\n  // # eslint\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  /* global Barba TweenLite picturefill svg4everybody WebFont google */\n\n  // # polyfill, helpers\n  //////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////\n\n  // polyfill element selector matching\n  // .matches & .closest\n  if (!Element.prototype.closest) {\n    if (!Element.prototype.matches) {\n      Element.prototype.matches =\n        Element.prototype.msMatchesSelector ||\n        Element.prototype.webkitMatchesSelector;\n    }\n    Element.prototype.closest = function closest(Selector) {\n      const el = this;\n      let ancestor = this;\n      if (!document.documentElement.contains(el)) return null;\n      do {\n        if (ancestor.matches(Selector)) return ancestor;\n        ancestor = ancestor.parentElement;\n      } while (ancestor !== null);\n      return null;\n    };\n  }\n\n  // type check\n  const isFunction = function isFunction(X) {\n    return Object.prototype.toString.call(X) === '[object Function]';\n  };\n\n  // # modules\n  //////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////\n\n  // # debounce and throttle\n  // https://davidwalsh.name/javascript-debounce-function\n  // https://medium.com/@_jh3y/throttling-and-debouncing-in-javascript-b01cad5c8edf\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  const debounce = function debounce(Func, Wait, Immediate, ...Args) {\n    let inDebounce;\n    return function timer() {\n      const context = this;\n      const later = function later() {\n        inDebounce = null;\n        if (!Immediate) Func.apply(context, Func, Wait, Immediate, ...Args);\n      };\n      const callNow = Immediate && !inDebounce;\n      clearTimeout(inDebounce);\n      inDebounce = setTimeout(later, Wait);\n      if (callNow) Func.apply(context, Func, Wait, Immediate, ...Args);\n    };\n  };\n\n  const throttle = function throttle(Func, Limit, ...Args) {\n    let inThrottle;\n    let lastFunc;\n    let lastRan;\n    return function timer() {\n      const context = this;\n      if (!inThrottle) {\n        Func.apply(context, Func, Limit, ...Args);\n        lastRan = Date.now();\n        inThrottle = true;\n      } else {\n        clearTimeout(lastFunc);\n        lastFunc = setTimeout(() => {\n          if ((Date.now() - lastRan) >= Limit) {\n            Func.apply(context, Func, Limit, ...Args);\n            lastRan = Date.now();\n          }\n        }, Limit - (Date.now() - lastRan));\n      }\n    };\n  };\n\n  // # promise-based async script loader\n  // https://bradb.net/blog/promise-based-js-script-loader/\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  const asyncLoadScript = function asyncLoadScript(Url) {\n    return new Promise((Resolve, Reject) => {\n      let ready = false;\n      const anchor = document.getElementsByTagName('script')[0];\n      const script = document.createElement('script');\n\n      script.type = 'text/javascript';\n      script.src = Url;\n      script.async = true;\n      script.onreadystatechange = function onreadystatechange() {\n        if (!ready && (!this.readyState || this.readyState === 'complete')) {\n          ready = true;\n          Resolve(this);\n        }\n      };\n      script.onload = script.onreadystatechange;\n      script.onabort = Reject;\n      script.onerror = script.onabort;\n      anchor.parentNode.insertBefore(script, anchor);\n    });\n  };\n\n  // # page load ready states\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  // document has finished loading and the document has been parsed\n  // but sub-resources such as images, stylesheets and frames are still loading\n  const pageIsReady = function pageIsReady() {\n    return new Promise((Resolve) => {\n      Resolve(this);\n    });\n  };\n\n  // document and all sub-resources have finished loading,\n  // state indicates that the load event is about to fire\n  const pageIsComplete = function pageIsComplete() {\n    return new Promise((Resolve) => {\n      const complete = setInterval(() => {\n        if (document.readyState === 'complete') {\n          Resolve(this);\n          clearInterval(complete);\n        }\n      }, 250);\n    });\n  };\n\n  // # loader\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  const Loader = class {\n    constructor(Element) {\n      this.domRef = {\n        shieldSelector: '.loader',\n      };\n      this.cache = {\n        element: Element,\n        shield: null,\n      };\n    }\n\n    init() {\n      this.cacheShield();\n    }\n\n    dest() {\n      this.uncacheShield();\n      this.domRef = null;\n      this.cache = null;\n    }\n\n    cacheShield() {\n      this.cache.shield = this.cache.element.querySelector(this.domRef.shieldSelector);\n    }\n\n    uncacheShield() {\n      this.cache.shield = null;\n    }\n\n    showShield() {\n      return new Promise((Resolve) => {\n        TweenLite.set(this.cache.shield, {\n          display: 'table',\n          visibility: 'visible',\n          opacity: 0,\n        });\n        TweenLite.to(this.cache.shield, 0.25, {\n          opacity: 1,\n          onCompleteScope: this,\n          onComplete() {\n            Resolve(this);\n          },\n        });\n      });\n    }\n\n    hideShield() {\n      return new Promise((Resolve) => {\n        TweenLite.to(this.cache.shield, 0.35, {\n          opacity: 0,\n          onCompleteScope: this,\n          onComplete() {\n            TweenLite.set(this.cache.shield, {\n              display: 'none',\n              visibility: 'hidden',\n            });\n            Resolve(this);\n          },\n        });\n      });\n    }\n  };\n\n  // # scroll control\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  const ScrollControl = {\n    enable() {\n      document.body.style.overflow = 'auto';\n    },\n\n    disable() {\n      document.body.style.overflow = 'hidden';\n    },\n\n    isTop() {\n      return window.pageYOffset === 0;\n    },\n\n    toTop() {\n      if (!this.isTop()) {\n        TweenLite.to(window, 0.2, { scrollTo: 0 });\n      }\n    },\n\n    toSection(ID) {\n      TweenLite.to(window, 1, { scrollTo: ID });\n    },\n  };\n\n    // # font control\n  // https://github.com/typekit/webfontloader\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  const FontControl = {\n    options: {\n      fontConfig: null,\n    },\n    cache: {\n      script: null,\n    },\n\n    init(\n      Url,\n      Options = {\n        fontConfig: null,\n      }) {\n      // script loaded\n      if (this.cache.script && document.contains(this.cache.script)) {\n        return Promise.resolve();\n      }\n      // first script load\n      this.options = Options;\n      return asyncLoadScript(Url)\n        .then((Response) => {\n          this.cache.script = Response;\n          this.initFonts();\n        })\n        .catch((ErrorMsg) => {\n          console.error(ErrorMsg);\n        });\n    },\n\n    dest() {\n      if (this.cache.script && document.contains(this.cache.script)) {\n        this.cache.script.parentNode.removeChild(this.cache.script);\n        this.cache.script = null;\n      }\n    },\n\n    initFonts() {\n      WebFont.load(this.options.fontConfig);\n    },\n  };\n\n  // # view control\n  // http://barbajs.org/\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  const ViewControl = {\n    isFirst() {\n      return Barba.HistoryManager.prevStatus() === null;\n    },\n\n    getCurUrl() {\n      return Barba.Pjax.getCurrentUrl();\n    },\n\n    getCurUid() {\n      return document.getElementsByClassName(Barba.Pjax.Dom.containerClass)[0]\n        .dataset.uid;\n    },\n\n    getCurPathname() {\n      return this.getCurUrl().split(window.location.origin).pop();\n    },\n\n    init() {\n      // !Hotfix: Browser loads new page if a link contains a hash.\n      // https://github.com/luruke/barba.js/issues/53\n      Barba.Pjax.originalPreventCheck = Barba.Pjax.preventCheck;\n      Barba.Pjax.preventCheck = (event, element) => {\n        if (element !== null) {\n          const href = element.getAttribute('href');\n          if (href && href.indexOf('#') > -1) {\n            return true;\n          }\n        }\n        return Barba.Pjax.originalPreventCheck(event, element);\n      };\n\n      // setup DOM parsing variables for Barba.js\n      Barba.Pjax.Dom.wrapperId = 'mainframe-wp';\n      Barba.Pjax.Dom.containerClass = 'mainframe';\n      Barba.Pjax.Dom.dataNamespace = 'template';\n      Barba.Pjax.ignoreClassLink = 'no-frame-load';\n\n      // initialise internal processes\n      return new Promise((Resolve) => {\n        this.templates.init();\n        this.transitions.init();\n        Barba.Pjax.start();\n        Resolve(this);\n      });\n    },\n\n    // doesn't fire on initial load\n    onRequested(Callback) {\n      Barba.Dispatcher.on('linkClicked', () => { Callback(); });\n    },\n\n    onChange(Callback) {\n      Barba.Dispatcher.on('initStateChange', () => { Callback(); });\n    },\n\n    onReady(Callback) {\n      Barba.Dispatcher.on('newPageReady', () => { Callback(); });\n    },\n\n    onComplete(Callback) {\n      Barba.Dispatcher.on('transitionCompleted', () => { Callback(); });\n    },\n\n    //////////////////////////////\n    // sub-module:\n    // # transitions\n    //////////////////////////////\n\n    transitions: {\n      store: {\n        // fades out current view container,\n        // fades in new view container\n        fade: Barba.BaseTransition.extend({\n          start() {\n            // prevent page jump during transition,\n            // set wrapper height to oldContainer height initially\n            const wrapper = Barba.Pjax.Dom.getWrapper();\n            wrapper.style.overflow = 'hidden';\n            TweenLite.set(wrapper, {\n              height: this.oldContainer.offsetHeight,\n            });\n\n            // resolve processes\n            Promise\n              .all([this.newContainerLoading, this.hideOld()])\n              .then(this.showNew.bind(this));\n          },\n\n          hideOld() {\n            return new Promise((Resolve) => {\n              TweenLite.to(this.oldContainer, 0.15, {\n                opacity: 0,\n                onComplete() {\n                  Resolve(true);\n                },\n              });\n            });\n          },\n\n          showNew() {\n            // prevent page jump during transition,\n            // animate wrapper height to newContent height\n            const wrapper = Barba.Pjax.Dom.getWrapper();\n            const wrapperResizeDuration = 0.15;\n            TweenLite.to(wrapper, wrapperResizeDuration, {\n              height: this.newContainer.offsetHeight,\n              onComplete() {\n                wrapper.style.overflow = 'visible';\n                wrapper.style.height = null;\n              },\n            });\n\n            // remove old container and\n            // transit in new container\n            this.oldContainer.style.display = 'none';\n            TweenLite.set(this.newContainer, {\n              visibility: 'visible',\n              opacity: 0,\n            });\n            TweenLite.to(this.newContainer, 0.1, {\n              opacity: 1,\n              delay: wrapperResizeDuration,\n              onCompleteScope: this,\n              onComplete() {\n                this.done();\n              },\n            });\n          },\n        }),\n      },\n\n      assignments: {},\n      assign(Name, TransitionKey) {\n        this.assignments[Name] = TransitionKey;\n      },\n\n      init() {\n        Barba.Pjax.getTransition = () => {\n          const curViewName = Barba.HistoryManager.prevStatus().namespace;\n          if (Object.hasOwnProperty.call(this.assignments, curViewName)) {\n            const transitionKey = this.assignments[curViewName];\n            return this.store[transitionKey];\n          }\n          return this.store.fade;\n        };\n      },\n    },\n\n    //////////////////////////////\n    // sub-module:\n    // # templates\n    //////////////////////////////\n\n    templates: {\n      store: {},\n      pushModel(Name) {\n        this.store[Name] = Barba.BaseView.extend({\n          namespace: Name,\n          onEnter() {},\n          onEnterCompleted() {},\n          onLeave() {},\n          onLeaveCompleted() {},\n        });\n      },\n\n      getModel(Name) {\n        return this.store[Name];\n      },\n\n      getCurModelName() {\n        return Barba.HistoryManager.currentStatus().namespace;\n      },\n\n      init() {\n        Object.keys(this.store)\n          .forEach((Model) => {\n            this.store[Model].init();\n          });\n      },\n    },\n  };\n\n  // # analytics control\n  // https://developers.google.com/analytics/devguides/collection/gtagjs/\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  const AnalyticsControl = {\n    options: null,\n    cache: {\n      script: null,\n    },\n\n    init(\n      Url,\n      Options = {\n        trackingId: null,\n      }) {\n      // script loaded\n      if (this.cache.script && document.contains(this.cache.script)) {\n        return Promise.resolve();\n      }\n      // first script load\n      this.options = Options;\n      this.initApi();\n      return asyncLoadScript(Url)\n        .then((Response) => {\n          this.cache.script = Response;\n          this.initTracker();\n        })\n        .catch((ErrorMsg) => {\n          console.error(ErrorMsg);\n        });\n    },\n\n    dest() {\n      this.destApi();\n      if (this.cache.script && document.contains(this.cache.script)) {\n        this.cache.script.parentNode.removeChild(this.cache.script);\n        this.cache.script = null;\n      }\n    },\n\n    initApi() {\n      // deconstructed Google Analytics async script\n      // http://code.stephenmorley.org/javascript/understanding-the-google-analytics-tracking-code/\n      // store the name of the Analytics object\n      window.GoogleAnalyticsObject = 'ga';\n      // check whether the Analytics object is defined\n      if (!('ga' in window)) {\n        // define the Analytics object\n        window.ga = function ga(...Args) {\n          // add the tasks to the queue\n          window.ga.q.push(Args);\n        };\n        // create the queue\n        window.ga.q = [];\n      }\n      // store the current timestamp\n      window.ga.l = (new Date()).getTime();\n    },\n\n    destApi() {\n      window.GoogleAnalyticsObject = null;\n      window.ga = null;\n      window.ga.q = null;\n      window.ga.l = null;\n    },\n\n    initTracker() {\n      window.ga('create', {\n        trackingId: this.options.trackingId,\n        cookieDomain: 'auto',\n      });\n    },\n\n    setPageView(Url, Pathname, Title) {\n      window.ga('set', {\n        location: Url,\n        page: Pathname,\n        title: Title,\n      });\n    },\n\n    send(...Data) {\n      window.ga('send', ...Data);\n    },\n\n    sendPageView() {\n      this.send('pageview');\n    },\n\n    sendEvent(Category, Action, Label = '') {\n      this.send('event', {\n        eventCategory: Category,\n        eventAction: Action,\n        eventLabel: Label,\n      });\n    },\n  };\n\n  // # navigation control\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  const NavControl = {\n    cache: {\n      links: null,\n    },\n    domRef: {\n      linkSelector: '.nav__a',\n    },\n\n    init() {\n      this.cacheLinks();\n    },\n\n    dest() {\n      this.enableAllLinks();\n      this.cache = null;\n      this.domRef = null;\n    },\n\n    update(Uid) {\n      this.enableAllLinks();\n      this.disableLink(Uid);\n    },\n\n    cacheLinks() {\n      this.cache.links = [...document.querySelectorAll(this.domRef.linkSelector)];\n    },\n\n    enableAllLinks() {\n      const disabledLinks = this.cache.links.filter(Link => !Link.href.length);\n      // swap in stored data-href attribute to href to re-enable default link behavior\n      disabledLinks.forEach((Link) => {\n        if (Link.dataset.href) {\n          Link.href = Link.dataset.href;\n          Link.removeAttribute('data-href');\n        }\n      });\n    },\n\n    disableLink(Uid) {\n      const activeLinks = this.cache.links.filter(Link => Link.dataset.controlsUid === Uid);\n      // store href as data-href attribute to disable default link behavior\n      activeLinks.forEach((Link) => {\n        Link.dataset.href = Link.href;\n        Link.removeAttribute('href');\n      });\n    },\n  };\n\n\n  // # contexts\n  //////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////\n\n  // # site wide\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  const preLoaderElement = document.querySelector('#pre-loader');\n  const preLoader = new Loader(preLoaderElement);\n  preLoader.domRef.shieldSelector = '.loader';\n  preLoader.init();\n  let viewLoader;\n\n  // doesn't fire on initial load\n  ViewControl.onRequested(() => {\n    // show loader\n    viewLoader.showShield();\n  });\n\n  ViewControl.onReady(() => {\n    // polyfill picture element\n    picturefill();\n\n    // polyfill svg elements\n    svg4everybody();\n\n    // track analytics\n    const viewUrl = ViewControl.getCurUrl();\n    const viewPathname = ViewControl.getCurPathname();\n    const viewTitle = document.title;\n    AnalyticsControl.setPageView(viewUrl, viewPathname, viewTitle);\n    AnalyticsControl.sendPageView();\n  });\n\n  ViewControl.onComplete(() => {\n    // Anchor page to hash section or page top on every load.\n    const { hash } = window.location;\n    if (hash !== '' && document.querySelector(hash) !== null) {\n      ScrollControl.toSection(hash);\n    } else {\n      ScrollControl.toTop();\n    }\n\n    // update navigation links\n    const uid = ViewControl.getCurUid();\n    NavControl.update(uid);\n\n    if (ViewControl.isFirst()) {\n      // hide preloader on load\n      preLoader.hideShield()\n        .then(() => {\n          ScrollControl.enable();\n        });\n    } else {\n      // hide loader\n      viewLoader.hideShield();\n    }\n  });\n\n  // # view specific\n  ////////////////////////////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  //////////////////////////////\n  // # home\n  //////////////////////////////\n\n  // !example\n  {\n    ViewControl.templates.pushModel('home');\n    const view = ViewControl.templates.getModel('home');\n\n    view.onEnter = () => {\n      console.log('home view enter'); // !debug\n    };\n\n    view.onEnterCompleted = () => {\n      console.log('home view enter complete'); // !debug\n    };\n\n    view.onLeave = () => {\n      console.log('home view leave'); // !debug\n    };\n\n    view.onLeaveCompleted = () => {\n      console.log('home view leave complete'); // !debug\n    };\n  }\n\n  // # processes\n  //////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////\n\n  pageIsReady()\n    .then(() => {\n      // enable web fonts with loader\n      const wfLoaderScriptUrl = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js';\n      const fontConfig = {\n        custom: {\n          families: [], // !input\n        },\n        timeout: 2000,\n      };\n      FontControl.init(\n        wfLoaderScriptUrl,\n        { fontConfig });\n\n      // enable google analytics with loader\n      const analyticsSciptUrl = 'https://www.google-analytics.com/analytics.js';\n      const analyticsTrackingId = 'UA-XXXXX-Y'; // !input\n      AnalyticsControl.init(\n        analyticsSciptUrl,\n        { trackingId: analyticsTrackingId });\n    });\n\n  pageIsComplete()\n    .then(() => {\n      // initialise nav control\n      NavControl.init();\n\n      // initialise view loader\n      const viewLoaderElement = document.querySelector('#view-loader');\n      viewLoader = new Loader(viewLoaderElement);\n      viewLoader.init();\n\n      // initialise view control\n      ViewControl.init();\n    });\n}\n"]}